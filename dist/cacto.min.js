/*!
 * CactoJS - v1.2.0
 * Licensed under GPL-3.0
 */
function routes(t){var e=location.hash.replace("#","");if(!e.length)return redirect(initial_hash),!1;e=e.split("/")[0],$(".all-views").hide(),void 0===$.ctrl[e]?$.controller(e):$.ctrl[e].show(),current_page=e}function redirect(t){var e=location.hash.replace("#","");(t=t.replace("#",""))==e?routes():location.hash=t}function controller(t,e){if("function"==typeof e){var r=new e;for(var i in r)"function"==typeof r[i]&&(r[i]=r[i].bind(r));$.ctrl[t]=r}else $.ctrl[t]=e;"function"==typeof $.ctrl[t].initialize&&$($.ctrl[t].initialize)}function initial(t){initial_hash=t}function argument(t){var e=location.hash.replace("#","").split("/");return void 0===e[t]?null:e[t]}$.ctrl={};var current_page="",initial_hash="index";$.view=function(t,e){t=t.replace("#","").replace(".","/"),$.ajax({url:"cacto/views/"+t+".html",type:"GET",dataType:"html",success:function(t){$(".app").append(t)},error:function(){$.alert("[$.view] caminho inválido")}}).done(e)},$.controller=function(t){var t=t.replace("#","").replace(".","/");$.ajax({url:"cacto/controllers/"+t+".js",type:"GET",dataType:"script",error:function(){console.error("[$.controller]["+t+"] caminho inválido")}})},$(function(){$(window).on("hashchange",routes),routes()});var localDB={db:"localDB",init:function(t){this.db=t,this.has()||this.clear()},has:function(){return null!=localStorage.getItem(this.db)},save:function(t){return localStorage.setItem(this.db,JSON.stringify(t)),!0},get:function(t){if(!this.has())return!1;var e=JSON.parse(localStorage.getItem(this.db));for(key in e)if(key==t)return e[key]},set:function(t,e){var r={};this.has()&&(r=JSON.parse(localStorage.getItem(this.db))),r[t]=e,localStorage.setItem(this.db,JSON.stringify(r))},clear:function(){localStorage.removeItem(this.db)},getObject:function(){return JSON.parse(localStorage.getItem(this.db))}};